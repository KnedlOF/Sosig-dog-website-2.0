<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Sosig Dog</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.6.1/web3.min.js"
      integrity="sha512-5erpERW8MxcHDF7Xea9eBQPiRtxbse70pFcaHJuOhdEBQeAxGQjUwgJbuBDWve+xP/u5IoJbKjyJk50qCnMD7A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- favicon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="images/x-icon/cock v2.ico"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="images/x-icon/cock v2.ico"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="images/x-icon/cock v2.ico"
    />
    <link rel="manifest" href="images/x-icon/site.webmanifest" />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!--header-->
    <header>
      <div class="musicOn">
        <audio
          id="audio"
          style="display: none"
          src="music/sosig start.mp3"
          controls
          autostart="0"
        ></audio>
        <audio
          id="audioloop"
          style="display: none"
          src="music/sosig loop.mp3"
          controls
          autostart="0"
          loop
        ></audio>
      </div>

      <div class="outerbox">
        <div class="header">
          <div class="logo">
            <a href="/">
              <img src="images/header/cock 32x32.png" alt="logo" />
            </a>
          </div>
          <div class="menu">
            <a
              href="https://discord.gg/QmFW9mF8Xf"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="images/header/discord.webp"
                alt="Discord"
                class="smaller"
              />
            </a>
            <a
              href="https://twitter.com/SosigDogNFT"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="images/header/twitter.webp"
                alt="Twitter"
                class="smaller"
              />
            </a>
            <a
              href="https://opensea.io/collection/sosig-dog"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="images/header/opensea.webp"
                alt="Opensea"
                class="smaller"
              />
            </a>

            <button class="wallet-btn btn" id="connectWallet">
              <span>Connect Wallet</span>
            </button>
            <div class="circle">
              <div class="circlein">
                <input
                  type="checkbox"
                  name="un-mute"
                  id="un-mute"
                  onclick="play()"
                  style="cursor: pointer"
                /><label
                  for="un-mute"
                  class="unmute"
                  value="1"
                  style="cursor: pointer"
                >
                  <img src="images/mute1.png" alt="Mute" />
                </label>
                <label
                  for="un-mute"
                  class="mute"
                  value="2"
                  style="cursor: pointer"
                >
                  <img src="images/mute.png" alt="Unmute" />
                </label>
              </div>
            </div>
            <script>
              var audio = document.getElementById("audio");
              var audioloop = document.getElementById("audioloop");

              var x = 1;
              var y = 1;
              function play() {
                x++;
                y = x % 2;
                var timer;
                var div = document.getElementById("music");
                if (y == 0) {
                  audio.volume = 0.15;
                  audioloop.volume = 0.15;
                  audio.play();
                  audio.addEventListener("ended", function () {
                    audioloop.play();
                  });
                } else {
                  audio.pause();
                  audioloop.pause();
                  audio.currentTime = 0;
                  audioloop.currentTime = 0;
                }
                function Timer() {
                  window.clearTimeout(timer);
                  timer = window.setTimeout(() => {
                    div.style.display = "none";
                  }, 7000);
                }
                if (y == 0) {
                  div.style.display = "block";
                  Timer();
                } else {
                  window.clearTimeout(timer);
                  div.style.display = "none";
                }
              }
            </script>
          </div>
        </div>
      </div>
    </header>

    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://unpkg.com/moralis/dist/moralis.js"></script>
    <div id="scroll">
      <div id="networkalert" style="display: none">
        It looks like you are on wrong network, please change it to Polygon
        Mainnet.
      </div>
      <div id="music" style="display: none">
        <p>Volak - Noom</p>
      </div>
      <div id="title">
        <object data="images/sosig title white.png" id="titlepicture"></object>
      </div>
      <div class="mint-container" id="mint-container" style="display: none">
        <p class="title2" id="youwhitelisted">You can now mint!</p>
        <p class="supply">
          <span id="currentSupply">?</span>
          /
          <span id="totalSupply" class="supply">5000</span>
        </p>
        <button id="mintReduce" class="number-btn btn">-</button>
        <span id="MintNumber">1</span>
        <button id="mintAdd" class="number-btn btn">+</button>
        <p class="title2" id="pricetext">
          <span id="price">0</span>
          MATIC + Gas fee
        </p>
        <div><button id="mintBut" class="mint-btn btn">Mint</button></div>
        <p class="notes">
          Please note: Once you make the purchase, you can not undo this action.
        </p>
        <p class="notes" style="margin-top: 3px">
          We suggest not to lower the gas limit, because it can lead transaction
          to fail.
        </p>
      </div>
      <div id="NotLive">
        <div class="box" id="mintnotlive">
          <p class="classic" id="mintnotlivetext">
            Free mint now awailable. To mint, connect wallet. You can maximumly
            mint 2 NFTs. One per transaction.
          </p>
          <!-- <p class="classic" style="font-weight: bolder; font-size: 40px">
            GIVEAWAY ON TWITTER
          </p> -->
        </div>

        <a
          href="https://discord.gg/QmFW9mF8Xf"
          target="_blank"
          rel="noopener noreferrer"
        >
          <button class="wallet-btn btn" id="discordbutton">
            <img
              src="images/header/discord.webp"
              style="position: relative"
            /></button
        ></a>
      </div>
      <div id="Live" style="display: none">
        <div class="box" id="mintlive">
          <p class="classic" id="mintlivetext">
            You already have 2 or more NFTs, you can not mint anymore.
          </p>
        </div>
        <a
          href="https://discord.gg/QmFW9mF8Xf"
          target="_blank"
          rel="noopener noreferrer"
        >
          <button class="wallet-btn btn" id="discordbutton2">
            <img
              src="images/header/discord.webp"
              style="position: relative"
            /></button
        ></a>
      </div>
      <div class="box">
        <h class="title1">Dogs for good cause</h>
        <p class="classic">
          Sosig Dogs are collection of 5000 unique weiner dogs, or as we call
          them 'sosig dogs'. Each dog has unique set of items, varying in
          rarity. With every purchase/trade you contribute to charity, 10% of
          income will be donated to charities chosen by the community of
          holders.
        </p>
      </div>

      <div class="box" id="aboutheidi">
        <h class="title1">Who is the sosig dog?</h>
        <img src="images/heidi picture.png" id="heidi" alt="Heidi" />
        <p class="classic" id="heiditext">
          This is Heidi, my pet and the sosig dog. She is very long and likes to
          eat (like most dogs). Her favourite toy is a squeaky chicken. The
          artwork was first used as an emote to share love on Twitch and now it
          has become an NFT collection.
        </p>
      </div>
      <div class="box" style="margin-top: 10%">
        <img
          src="images/DHUK logo final.png"
          id="healthUK"
          alt="Dachshund Health UK"
        />
        <h class="title1">What charity?</h>
        <p class="classic">
          We understand, how huge problem dachshunds have with Intervertebral
          Disc Disease (IVDD), in fact every fourth dauchshund may be affected
          by it at some stage in their lives. Thats why our first charity we
          picked is Dachshund Health UK, to support their research, education
          and screening programmes of IVDD.
        </p>
        <a
          href="https://www.dachshund-ivdd.uk/"
          target="_blank"
          rel="noopener noreferrer"
        >
          <button class="wallet-btn btn" id="UKbut">Visit website</button></a
        >
      </div>
      <div class="box" id="whatNFT">
        <h class="title1">What is NFT?</h>
        <div style="position: relative; padding-bottom: 56.25%">
          <iframe
            width="800 "
            height="450"
            src="https://www.youtube.com/embed/a8ww4aNlPQU"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            style="
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
            "
          ></iframe>
        </div>
      </div>
      <iframe
        class="clickup-embed"
        src="https://sharing.clickup.com/b/6-174564830-2/board"
        onwheel=""
      ></iframe>

      <div class="wholediv">
        <h class="title1" id="knedltitle">TEAM</h>
        <div class="member">
          <div id="member1">
            <h1 class="title3">Creator</h1>
            <img src="images/Knedl.png" class="avatar" alt="Knedl" />
            <h1 class="title2">KNEDL</h1>
            <p class="classic" id="aboutknedl">
              17 year old electronic student from Slovenia with a passion to use
              blockchain technology to share artwork and promote a good cause.
            </p>
          </div>
          <div id="member2">
            <h1 class="title3">Marketing</h1>
            <img src="images/trader logo.png" class="avatar" alt="Knedl" />
            <h1 class="title2">TRADER2</h1>
            <p class="classic" id="abouttrader">
              Law student, from Scotland. Passionate about cryptocurrencies.
              Helps with marketing the project.
            </p>
            <br />
          </div>
        </div>
        <div>
          <h1 class="title3" style="margin-top: 100px">As seen on:</h1>
          <a
            href="https://bedune.io/project/05d39b90-e19e-4be0-b50b-39bbff485ccd"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img
              src="images/Copy of bedune-logo-fulllockup-for-black-bg.png"
              alt="bedune"
              height="100px"
            />
          </a>
          <a
            href="https://nftcalendar.io/event/sosig-dog/"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img
              src="images/nft-calendar-transparent.png"
              alt="nftcalendar"
              height="100px"
            />
          </a>
        </div>
        <p class="contact">
          © 2022 Created by Knedl. Contact email:
          <a href="mailto:contact@sosigdog.com">contact@sosigdog.com</a>
        </p>
      </div>
      <div id="resultSpace"></div>

      <script src="static/logic.js"></script>
      <script src="abi.js"></script>
      <script type="text/javascript">
        // 1. Connect metamask to our site. Get the user's address

        var account = null;
        var contract = null;
        const ADDRESS = "0x7948fd82b42b7289d284E72542C881FFCc72b331";
        // const ADDRESS = "0x7A0d6842D7e6116E81E44FB2eac309F83EFea07D";
        const cost = 0;
        const wei_cost = cost * 0 ** 18;
        let MintNumber = 1;
        let price = 0;
        const onboardButton = document.getElementById("connectWallet");

        function HideMint() {
          var div1 = document.getElementById("mint-container");
          div1.style.display = "none";
          var div2 = document.getElementById("NotLive");
          div2.style.display = "block";
          var div3 = document.getElementById("Live");
          div2.style.display = "none";
        }
        //mint not live
        //HideMint();

        async function MintAllow() {
          document.getElementById("connectWallet").onclick = async () => {
            while (window.ethereum) {
              const sleep = async (ms) => {
                return new Promise((resolve) => setTimeout(resolve, ms));
              };
              await window.ethereum.send("eth_requestAccounts");
              window.web3 = new Web3(window.ethereum);

              var accounts = await web3.eth.getAccounts();
              account = accounts[0];

              onboardButton.innerText = `✔ ...${accounts[0].slice(-4)}`;

              contract = new web3.eth.Contract(ABI, ADDRESS);

              // Contract methods

              const currentSupply = await contract.methods.totalSupply().call();

              const totalSupply = await contract.methods.maxSupply().call();

              const MaxMint = await contract.methods.maxMintAmount().call();

              const paused = await contract.methods.paused().call();

              const balance = await contract.methods.balanceOf(account).call();
              console.log(balance);
              console.log(currentSupply);
              const Whitelisted = await contract.methods
                .presaleWallets(account)
                .call();
              // const currentSupply = 4999;

              //Mint number

              if (
                (totalSupply < currentSupply) &
                (paused == false) &
                (balance <= 2)
                // & Whitelisted
              ) {
                var div1 = document.getElementById("mint-container");
                div1.style.display = "block";
                var div2 = document.getElementById("NotLive");
                div2.style.display = "none";
                var div3 = document.getElementById("Live");
                div3.style.display = "none";
                document.getElementById("mintAdd").onclick = async () => {
                  if (
                    MintNumber < MaxMint &&
                    MintNumber < totalSupply - currentSupply
                  ) {
                    MintNumber++;
                    price += 0;
                  }
                  document.getElementById("MintNumber").textContent =
                    MintNumber;
                  document.getElementById("price").textContent = price;
                };
                document.getElementById("mintReduce").onclick = async () => {
                  if (MintNumber > 1) {
                    MintNumber--;
                    price -= 0;
                  }
                  document.getElementById("MintNumber").textContent =
                    MintNumber;
                  document.getElementById("price").textContent = price;
                };
                document.getElementById("MintNumber").textContent = MintNumber;
                document.getElementById("currentSupply").textContent =
                  currentSupply;
                document.getElementById("totalSupply").textContent =
                  totalSupply;

                //mint button
                document.getElementById("mintBut").onclick = () => {
                  contract.methods.mint(account, MintNumber).send({
                    to: ADDRESS,
                    from: account,
                    value: MintNumber * wei_cost,
                    gasLimit: null,
                    maxPriorityFeePerGas: null,
                    maxFeePerGas: null,
                  });
                };
              }
              //Sold out
              else if (currentSupply <= totalSupply) {
                alert("Sold out");
              }
              //if mint is not live
              else if (paused == true) {
                HideMint();
              } else if (balance >= 2) {
                var smth2 = document.getElementById("Live");
                smth2.style.display = "block";
                var smth1 = document.getElementById("NotLive");
                smth1.style.display = "none";
                var div1 = document.getElementById("mint-container");
                div1.style.display = "none";
              }
              await sleep(2000);
            }
          };
        }

        function NetworkCheck() {
          var div = document.getElementById("networkalert");
          div.style.display = "block";
        }
      </script>
    </div>
  </body>
</html>
